<html>

<head>
  <title>Markdown Demo Page</title>
  <script src="tinymce.min.js"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <link href="shared.css" rel="stylesheet">

  <link rel="icon" href="../favicon-16x16.png" sizes="16x16">
  <link rel="icon" href="../favicon-32x32.png" sizes="32x32">
  <link rel="icon" href="../favicon-48x48.png" sizes="48x48">
  <link rel="icon" href="../favicon-96x96.png" sizes="96x96">

  <style type="text/css">
    .menu {
      background-color: white;
    }

    header.tinylabs {
      text-align: center;
      color: white;
      padding: 2.2em;
      min-height: 155px;
      display: flex;
      flex-direction: column;
      align-content: center;
      justify-content: center;
      margin-bottom: 3rem;
    }
    header.tinylabs-markdown {
      background: #1976d2;
    }
    h1 {
      font-size: 48px;
      font-family: "aileron";
      font-weight: 200;
      line-height: 58px;
    }
    section.markdown-wrapper {
      max-width: 1120px;
      margin-left: auto;
      margin-right: auto;
      min-height: 350px;
    }
  </style>
</head>

<body>

  <div class="menu light">
    <nav class="menu-inner">
      <nav class="left">
        <a class="logo" href="/" title="TinyMCE logo"></a>
      </nav>
      <div class="right">
        <a class="link-menu" href="/labs">Back to Labs</a>
      </div>
    </nav>
  </div>

  <header class="tinylabs tinylabs-markdown">
    <h1>Tiny Markdown</h1>
  </header>

  <section class="markdown-wrapper">
  <textarea>

  </textarea>
  <script>
    tinymce.IconManager.add('markdown-labs-demo', {
      icons: {
        markdown: `<?xml version="1.0" encoding="UTF-8"?>
        <svg width="24px" height="24px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="markdown-mark" transform="translate(2.000000, 12.000000)" fill="#222f3e" fill-rule="nonzero">
                    <path d="M0.5,16 L0.5,0 L5.40322581,0 L10.3064516,5.88235294 L15.2096774,0 L20.1129032,0 L20.1129032,16 L15.2096774,16 L15.2096774,6.82352941 L10.3064516,12.7058824 L5.40322581,6.82352941 L5.40322581,16 L0.5,16 Z M31.1451613,16 L23.7903226,8.23529412 L28.6935484,8.23529412 L28.6935484,0 L33.5967742,0 L33.5967742,8.23529412 L38.5,8.23529412 L31.1451613,16 Z" id="Shape"></path>
                </g>
            </g>
        </svg>`
      }
    });

    tinymce.PluginManager.add('faketable', function (editor) {
      editor.ui.registry.addButton('faketable', {
        name: 'faketable',
        text: 'non-markdown-table',
        onAction: function (buttonApi) {
          editor.insertContent('<table><tbody><tr><th>No</th></tr></tbody></table>');
        }
      });
    });

    tinymce.init({
      toolbar: 'bold markdown numlist bullist faketable',
      height: 600,
      selector: 'textarea',
      plugins: 'image table markdown lists advlist faketable',
      icons: 'markdown-labs-demo'
    });
  </script>

  <p>This <code>markdown</code> plugin uses <a target="_blank" href="https://www.npmjs.com/package/showdown">showdown</a> for the markdown conversion</p>
  </section>
</body>

</html>
